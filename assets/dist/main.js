!function(e,t){for(var n in t)e[n]=t[n]}(this,function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=21)}([function(e,t,n){e.exports=n(15)()},function(e,t){!function(){e.exports=this.React}()},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}e.exports=n},function(e,t,n){var r=n(17),o=n(18),i=n(19);e.exports=function(e,t){return r(e)||o(e,t)||i()}},function(e,t,n){var r=n(20);e.exports=function(e,t){if(null==e)return{};var n,o,i=r(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}},,function(e,t){!function(){e.exports=this.wp.data}()},function(e,t){!function(){e.exports=this.wp.components}()},function(e,t){!function(){e.exports=this.wp.apiFetch}()},function(e,t){!function(){e.exports=this.wp.domReady}()},function(e,t){!function(){e.exports=this.wp.plugins}()},function(e,t){!function(){e.exports=this.wp.compose}()},function(e,t){!function(){e.exports=this.wp.editPost}()},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t){!function(){e.exports=this.wp.url}()},function(e,t,n){"use strict";var r=n(16);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}},function(e,t,n){"use strict";n.r(t);var r=n(2),o=n.n(r),i=n(1),a=n(9),c=n.n(a),s=n(10),u=n(0),f=n.n(u),l=n(11),p=n(6),d=n(12);var m=n(13),y=n.n(m);var g=n(3),b=n.n(g),h=n(4),O=n.n(h),v=n(7),x=n(8),P=n.n(x),j=n(14);function w(e){var t=e.className,n=e.isNewPost,r=e.onChange,a=e.selected,c=e.term,s=e.type,u=O()(e,["className","isNewPost","onChange","selected","term","type"]),f="toggle"===s?v.ToggleControl:v.CheckboxControl,l=Object(i.useState)(!1),p=b()(l,2),d=p[0],m=p[1];return Object(i.useEffect)((function(){c&&m(a.indexOf(c.id)>=0||a.indexOf(c.slug)>=0)}),[c]),Object(i.useEffect)((function(){c&&!n&&r(d,c.id)}),[d,c,n]),Object(i.createElement)("div",{className:t},Object(i.createElement)(f,o()({},u,{checked:d,disabled:!c,label:c?c.name:"Loadingâ€¦",onChange:function(e){return m(e)}})))}w.propTypes={className:f.a.string.isRequired,isNewPost:f.a.bool.isRequired,onChange:f.a.func.isRequired,selected:f.a.arrayOf(f.a.oneOfType([f.a.number,f.a.string])).isRequired,type:f.a.oneOf(["checkbox","toggle"]).isRequired};var T=function(e){function t(t){var n=t.label,r=t.taxonomy,a=t.value,c=O()(t,["label","taxonomy","value"]),s=Object(i.useState)(null),u=b()(s,2),f=u[0],l=u[1];return Object(i.useEffect)((function(){(function(e,t,n){return P()({method:"POST",path:"/wp/v2/".concat(e),data:{name:t,slug:n}})})(r,n,a).catch((function(e){return"term_exists"!==e.code?Promise.reject(e):function(e,t){return P()({path:Object(j.addQueryArgs)("/wp/v2/".concat(e),{slug:t,_fields:"id,name,slug"})})}(r,a).then((function(e){e.length&&l(e[0])}))})).then((function(e){if(e){var t=e.id,n=e.name,r=e.slug;l({id:t,name:n,slug:r})}}))}),[r,a]),Object(i.createElement)(e,o()({term:f},c))}return t.propTypes={taxonomy:f.a.string.isRequired,value:f.a.string.isRequired},t}(w);function R(e){var t=e.className,n=e.defaults,r=e.getPostTerms,a=e.id,c=e.isCleanNewPost,s=e.options,u=e.taxonomy,f=e.title,l=e.updateTerms,p={taxonomy:u,isNewPost:c(),onChange:l,selected:c()?n:r(),type:s.length>1?"checkbox":"toggle"};return Object(i.createElement)(d.PluginDocumentSettingPanel,{className:t,name:a,title:f},s.map((function(e,n){return Object(i.createElement)(T,o()({},e,p,{key:"".concat(t,"-").concat(e.value,"-").concat(n),className:"".concat(t,"__choice")}))})))}R.defaultProps={defaults:[]},R.propTypes={className:f.a.string.isRequired,defaults:f.a.arrayOf(f.a.string),id:f.a.string.isRequired,isCleanNewPost:f.a.func.isRequired,options:f.a.arrayOf(f.a.shape({label:f.a.string.isRequired,value:f.a.string.isRequired})).isRequired,taxonomy:f.a.string.isRequired,title:f.a.string.isRequired,getPostTerms:f.a.func.isRequired,hasAssignAction:f.a.bool.isRequired,updateTerms:f.a.func.isRequired};var _=Object(l.compose)([Object(p.withSelect)((function(e,t){var n=t.taxonomy,r=e("core/editor"),o=r.getCurrentPost,i=r.getEditedPostAttribute,a=r.isCleanNewPost,c=o()._links;return{getPostTerms:function(){return i(n)},hasAssignAction:"wp:action-assign-"+n in c,isCleanNewPost:a}})),Object(p.withDispatch)((function(e,t){var n=e("core/editor").editPost,r=t.getPostTerms,o=t.taxonomy,i=r();return{updateTerms:function(e,t){var r=e?i.concat(t):i.filter((function(e){return e!==t}));n(y()({},o,r))}}}))])(R),q=hmUtilities,S=q.options,E=q.taxonomy;c()((function(){S.forEach((function(e){var t=e.id,n=e.icon,r=void 0===n?null:n,a="".concat(E,"-").concat(t),c="".concat(E,"__").concat(t);Object(s.registerPlugin)(a,{icon:r,render:function(){return Object(i.createElement)(_,o()({className:c,taxonomy:E},e))}})}))}))}]));